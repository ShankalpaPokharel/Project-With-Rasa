version: "3.1"

stories:
  - story: greet and check balance
    steps:
      - intent: greet
      - action: utter_greet
      - intent: check_balance
      - action: utter_ask_account_info
      - intent: provide_account_info
        entities:
          - account_number
          - phone_number
      - action: action_verify_info
      - action: action_check_balance
      - intent: transaction_history
      - action: action_transaction_history

  - story: greet and check transaction history
    steps:
      - intent: greet
      - action: utter_greet
      - intent: transaction_history
      - action: utter_ask_account_info

  - story: provide account info and check balance
    steps:
      - intent: provide_account_info
      - action: action_verify_info
      - action: utter_balance_or_verify_error
      - intent: check_balance
      - action: action_check_balance
      - action: utter_ask_balance

  - story: provide account info and check transaction history
    steps:
      - intent: provide_account_info
      - action: action_verify_info
      - action: utter_balance_or_verify_error
      - intent: transaction_history
      - action: action_transaction_history
      - action: utter_transaction_history

  - story: provide invalid account info
    steps:
      - intent: provide_account_info
      - action: action_verify_info
      - action: utter_balance_or_verify_error

  - story: end conversation
    steps:
      - intent: goodbye
      - action: utter_goodbye


